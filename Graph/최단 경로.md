# 최단 경로

간선의 가중치가 부여된 그래프에서 정점들 사이에 가중치 합이 최소인 경로를 구하는 문제들이 나온다. 특정 시작점의 최단 경로를 구하는 알고리즘은 벨만-포드와 **다익스트라** 알고리즘이 있으며, 모든 정점에 대해 최단 거리를 구하는 알고리즘으로는 폴로이드-워샬 알고리즘이 있다.

+ 다익스트라 : 음의 가중치를 포함하지 않는 그래프에서만 사용 가능하다.
+ 벨만-포드 / 폴로이드-워샬 : 음의 가중치를 포함하는 그래프에서도 사용 가능하다. 다만, 성능적인 문제로 많이 출제되지는 않는다.

## 1. 최적 부분 구조

수학 공식이 난무하는 가운데 대충 내가 이해한 내용은 아래의 짤로 대신할 수 있다.

![최적 부분 구조](http://www.algocoding.net/_images/subpath.png)

시작점 s부터 v까지 간다고 했을때, s부터 u까지 가는 거리 또한 최단 경로중 하나라는 것이고 (최적 부분), u부터 v까지 또한 부분 최단 경로라는 것이다. 그러니까 (s, v) = (s, u) + (u, v)가 성립된다. 이것은 아래에 나오는 간선완화 동작과 동일하다.

## 2. 간선 완화

![그래프 간선 완화](http://www.algocoding.net/_images/relax.png)

+ D[v]는 시작점에서 간선 v까지의 최단 경로를, D[u]는 시작점에서 간선 u까지의 최단 경로 가중치의 합이다.
+ 시작점에서 u를 거쳐서 v로 가는 거리는 D[u] + 간선 가중치[u][v]가 된다.
+ D[v] 보다 D[u] + 가중치[u][v]가 작다면 D[v] = D[u] + 가중치[u][v] 가 된다.
+ 이때 최단 경로는 P[v] = u 로 저장한다. (u를 거쳐가는게 더 짧기 때문에 최단 경로를 u로 저장한다.)
+ 간선 (u, v) 에 대한 완화 과정은 시작점에서 정점 v까지의 거리 D[v]와 u를 거쳐서 v로 가는 D[u] + Weight[u][v]를 비교하는 것이다. 따라서, 간선 완화 점화식은 아래와 같이 정의할 수 있다.

> 간선 완화 점화식
<pre>
  <code>
    EdgeRelaxation (Edge(u, v)):
      if D[v] > D[u] + Weight(u, v):
        D[v] = D[u] + Weight(u, v)
        P[v] = u
  </code>
</pre>
